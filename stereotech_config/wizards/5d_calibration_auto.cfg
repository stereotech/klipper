[wizard CALIBRATE_5D_AUTO]
image: wizards/5d_calibration_auto/auto_five_axis_level_main.jpg
type: 5d
steps: CALIBRATE_5D_AUTO0, CLEAR_NOZZLE0, CLEAR_NOZZLE1, CALIBRATE_5D_AUTO1, CALIBRATE_5D_AUTO2, CALIBRATE_5D_AUTO3, CALIBRATE_5D_AUTO4, CALIBRATE_5D_AUTO5, CALIBRATE_5D_AUTO6, CALIBRATE_5D_AUTO7, CALIBRATE_5D_AUTO8
variable_continue_from_step: ''

[wizard_step_button CALIBRATE_5D_AUTO0]
image: wizards/5d_calibration_auto/auto_five_axis_level_main.jpg
landscape: false
description: 5DCalibrationAuto.Description
warning: 5DCalibrationAuto.MakeSureFreeOfPlastic
countdown: 0
info: none
action_gcode:
    SET_WIZARD_ENABLE WIZARD={wizard.name} ENABLE=1 ERROR=''
    TURN_OFF_HEATERS
    MOVE_SERVICE_POSITION
    SET_WIZARD_STEP WIZARD={wizard.name} STEP=CALIBRATE_5D_AUTO1
button_clear_noozle_gcode:
    {% set extruder = printer.toolhead.extruder|default('extruder') %}
    SET_WIZARD_ENABLE WIZARD={wizard.name} ENABLE=1 ERROR=''
    MOVE_SERVICE_POSITION_HEAD
    SET_WIZARD_VARIABLE WIZARD={wizard.name} VARIABLE=continue_from_step VALUE=CALIBRATE_5D_AUTO1
    CHANGE_STEP_AND_WAIT_HEATING WIZARD={wizard.name} STEP=CLEAR_NOZZLE0 TEMP=200 EXTRUDER={extruder}
cancel_gcode:
    RESET_WIZARD WIZARD={wizard.name}

[wizard_step CALIBRATE_5D_AUTO1]
image: wizards/5d_calibration_auto/auto_five_axis_level_02.jpg
landscape: false
description: Place the calibration tool into the five axis module and press Next
warning: 5DCalibrationAuto.GapBetweenTemplateModule
countdown: 0
info: none
action_gcode:
    SET_WIZARD_STEP WIZARD={wizard.name} STEP=CALIBRATE_5D_AUTO2
cancel_gcode:
    RESET_WIZARD WIZARD={wizard.name}

[wizard_step CALIBRATE_5D_AUTO2]
image: wizards/5d_calibration_auto/auto_five_axis_level_03.jpg
landscape: false
description: Connect probe and press Next
warning: 5DCalibrationAuto.WarningScrew
countdown: 0
info: none
action_gcode:
    CHANGE_STEP_AND_WAIT_PROBE WIZARD={wizard.name} STEP=CALIBRATE_5D_AUTO3
cancel_gcode:
    RESET_WIZARD WIZARD={wizard.name}

[wizard_step CALIBRATE_5D_AUTO3]
image: wizards/5d_calibration_auto/auto_five_axis_level_04.jpg
landscape: false
description: 5DCalibrationAuto.ConnectAndCheck
warning: none
countdown: 0
info: none
placeholder: wizard-step-probe
action_gcode:
    {% set cmd = 'CALIBRATE_MODULE_FIVE_D' %}
    CHANGE_STEP_AND_WAIT_RUN_CMD WIZARD={wizard.name} STEP=CALIBRATE_5D_AUTO4 CMD={cmd}
cancel_gcode:
    RESET_WIZARD WIZARD={wizard.name}

[wizard_step CALIBRATE_5D_AUTO4]
image: wizards/5d_calibration_auto/auto_five_axis_level_05.jpg
landscape: false
description: 5DCalibrationAuto.Wait
warning: none
countdown: 420
info: none
placeholder: waitProgress true
action_gcode:
    SET_WIZARD_STEP WIZARD={wizard.name} STEP=CALIBRATE_5D_AUTO5
cancel_gcode:
    RESET_WIZARD WIZARD={wizard.name}

[wizard_step_jog CALIBRATE_5D_AUTO5]
image: wizards/5d_calibration_auto/auto_five_axis_level_06.jpg
landscape: false
description: 5DCalibrationAuto.MoveToSurface
warning: none
countdown: 0
info: none
axes: z
steps: 0.01, 0.05, 0.1, 1
default_step: 1
jog_gcode:
    JOG_DO_MOVE {rawparams} STEP_NAME={wizard.wizard_step_name}
action_gcode:
    ADJUST_PROBE_OFFSET_Z ADJUST_CALIBRATION=1 ADJUST_WCS=1
    SET_WCS_FROM_AUTO_WCS
    SET_WIZARD_STEP WIZARD={wizard.name} STEP=CALIBRATE_5D_AUTO6
cancel_gcode:
    RESET_WIZARD WIZARD={wizard.name}

[wizard_step_button CALIBRATE_5D_AUTO6]
image: wizards/5d_calibration_auto/auto_five_axis_level_03.jpg
landscape: false
description: 5DCalibrationAuto.XYCorrectionDescription
warning: none
countdown: 0
info: none
action_gcode:
    SET_WIZARD_STEP WIZARD={wizard.name} STEP=CALIBRATE_5D_AUTO8
button_xy_correction_gcode:
    MOVE_TO_AUTO_WCS XY=1
    SET_WIZARD_STEP WIZARD={wizard.name} STEP=CALIBRATE_5D_AUTO7
cancel_gcode:
    RESET_WIZARD WIZARD={wizard.name}

[wizard_step_jog CALIBRATE_5D_AUTO7]
image: wizards/5d_calibration_auto/auto_five_axis_level_07.jpg
landscape: false
description: 5DCalibrationAuto.MoveToHole
warning: none
countdown: 0
info: none
axes: x, y, z
steps: 0.01, 0.05, 0.1, 1
default_step: 1
jog_gcode:
    JOG_DO_MOVE {rawparams} STEP_NAME={wizard.wizard_step_name}
action_gcode:
    ADJUST_PROBE_OFFSET_XY ADJUST_CALIBRATION=1 ADJUST_WCS=1
    SET_WCS_FROM_AUTO_WCS
    SET_WIZARD_STEP WIZARD={wizard.name} STEP=CALIBRATE_5D_AUTO8
cancel_gcode:
    RESET_WIZARD WIZARD={wizard.name}

[wizard_step CALIBRATE_5D_AUTO8]
image: wizards/5d_calibration_auto/auto_five_axis_level_03.jpg
landscape: false
description: 5DCalibrationAuto.Finish
warning: none
countdown: 0
info: none
action_gcode:
    RESET_WIZARD WIZARD={wizard.name} ABORT=0
cancel_gcode:
    RESET_WIZARD WIZARD={wizard.name}
